<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì§€ë‹ˆì˜ ì£¼ì—­ íƒ€ë¡œ</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        /* [ë””ìì¸] ì°¨ë¶„í•œ íšŒìƒ‰ ë°°ê²½ */
        body { 
            font-family: 'Gowun Dodum', sans-serif; 
            background: radial-gradient(circle, #f5f5f5 0%, #cfcfcf 100%); 
            color: #333; text-align: center; padding: 20px; margin: 0; 
            min-height: 100vh; overflow-x: hidden; -webkit-tap-highlight-color: transparent; 
        }
        .container { max-width: 450px; margin: 0 auto; position: relative; z-index: 10; }        
        #particleCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 5; }

        /* [ë””ìì¸] ê¸ˆìƒ‰ í…Œë‘ë¦¬ ì¹´ë“œ */
        .card-box { width: 310px; height: 460px; margin: 20px auto; perspective: 1500px; cursor: pointer; }
        .card-inner { 
            width: 100%; height: 100%; position: relative; 
            transform-style: preserve-3d; transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.2); 
            border-radius: 18px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); 
        }
        .card-inner.flipped { transform: rotateY(180deg); }
        .card-face { 
            position: absolute; width: 100%; height: 100%; backface-visibility: hidden; 
            border-radius: 18px; display: flex; flex-direction: column; justify-content: center; 
            align-items: center; border: 5px solid #d4af37; box-sizing: border-box; 
        }
        .card-front { background: #3e2723; color: #d4af37; }
        .card-front .mark { font-size: 5rem; filter: drop-shadow(0 0 10px rgba(212,175,55,0.4)); }
        .card-back { background: #ffffff; transform: rotateY(180deg); overflow: hidden; }
        .card-back img { width: 92%; height: 92%; object-fit: contain; }

        /* [ë””ìì¸] ê²°ê³¼ ë¦¬í¬íŠ¸ ìŠ¤íƒ€ì¼ */
        #result-area { 
            margin-top: 15px; text-align: left; background: #fff; padding: 10px; 
            border-radius: 20px; display: none; animation: slideUp 0.5s ease-out; 
            color: #444; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border-top: 4px solid #d4af37;
        }
        .res-header { text-align: center; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .res-name { font-size: 1.5rem; font-weight: bold; color: #5d4037; }
        .res-section { margin-bottom: 15px; }
        .res-label { font-weight: bold; color: #d4af37; font-size: 0.9rem; margin-bottom: 3px; display: flex; align-items: center; }
        .res-label::before { content: 'â—ˆ'; margin-right: 6px; font-size: 0.7rem; }
        .res-content { font-size: 1rem; line-height: 1.6; padding-left: 15px; color: #333; }
        .total-highlight { color: #b71c1c; font-weight: bold; background: #fffde7; padding: 10px; border-radius: 8px; }

        /* [ì¶”ê°€] í–‰ìš´ì˜ ì•„ì´í…œ ì˜ì—­ */
        .lucky-box { display: flex; justify-content: space-around; margin-top: 10px; padding-top: 15px; border-top: 1px dashed #ddd; }
        .lucky-item { text-align: center; font-size: 0.85rem; color: #666; }
        .lucky-val { display: block; font-size: 1.1rem; font-weight: bold; color: #5d4037; margin-top: 5px; }

        /* ê¸ˆìƒ‰ ì…ì²´ ë²„íŠ¼ */
        .draw-btn { 
            background: linear-gradient(to bottom, #d4af37 0%, #aa8a2e 100%); 
            color: #fff; border: none; padding: 15px 45px; border-radius: 50px; 
            font-size: 1.1rem; font-weight: bold; cursor: pointer; 
            margin: 20px 0; box-shadow: 0 4px 15px rgba(0,0,0,0.2); 
            -webkit-appearance: none; transition: 0.3s;
        }
        .draw-btn:active { transform: scale(0.95); }

        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<canvas id="particleCanvas"></canvas>

<div class="container">
    <h1 style="color: #5d4037;">ì˜¤ëŠ˜ì˜ ì£¼ì—­ ìš´ì„¸</h1>
    <p style="color: #888;">ë§ˆìŒì„ ì°¨ë¶„íˆ í•˜ê³  ì˜¤ëŠ˜ì˜ ìš´ì„¸ë¥¼ ë½‘ì•„ë³´ì„¸ìš”.</p>
    <div class="card-box" onclick="handleFlip()">
        <div id="cardInner" class="card-inner">
          <div class="card-face card-front">
                <div class="mark">â˜¯</div>
                <p style="letter-spacing: 1px;">ì¹´ë“œë¥¼ í´ë¦­í•˜ì„¸ìš”.</p>
            </div>
            <div class="card-face card-back">
                <img id="cardImage" src="" alt="íƒ€ë¡œ ì¹´ë“œ">
            </div>
        </div>
    </div>

    <button class="draw-btn" id="mainBtn" onclick="handleMainAction()">ì˜¤ëŠ˜ì˜ ìš´ì„¸ ë½‘ê¸°</button>

    <div id="result-area">
        <div class="res-header"><div id="resTitle" class="res-name"></div></div>
        <div class="res-section">
            <div class="res-label">ì˜¤ëŠ˜ì˜ í•µì‹¬ ì´ìš´</div>
            <div id="resTotal" class="res-content total-highlight"></div>
        </div>
        <div class="res-section"><div class="res-label">ë¹„ì¦ˆë‹ˆìŠ¤ / ì„±ê³µ</div><div id="resBus" class="res-content"></div></div>
        <div class="res-section"><div class="res-label">ì—°ì•  / ì¸ê°„ê´€ê³„</div><div id="resLov" class="res-content"></div></div>
        <div class="res-section"><div class="res-label">ê±´ê°• / ì‹¬ë¦¬</div><div id="resHea" class="res-content"></div></div>
        
        <div class="lucky-box">
            <div class="lucky-item">ğŸ¨ í–‰ìš´ì˜ ìƒ‰ìƒ <span id="luckyColor" class="lucky-val"></span></div>
            <div class="lucky-item">ğŸ”¢ í–‰ìš´ì˜ ìˆ«ì <span id="luckyNum" class="lucky-val"></span></div>
        </div>
    </div>
</div>

<script>
    const tarotData = [
    { no: 1, name: "1. ì¤‘ì²œê±´", img: "https://imgur.com/oEjEsdS.png", total: "ê°•ë ¥í•œ ì°½ì¡°ì™€ ë°œì „ì˜ ì‹œê¸°", bus: "ë¦¬ë”ì‹­ì„ ë°œíœ˜í•´ ì¶”ì§„í•  ë•Œ", lov: "ë‹¹ë‹¹í•˜ê³  ì—´ì •ì ì¸ ê´€ê³„", hea: "ì—ë„ˆì§€ê°€ ë„˜ì¹˜ë‚˜ ê³ í˜ˆì•• ì£¼ì˜" },
    { no: 2, name: "2. ì¤‘ì§€ê³¤", img: "https://imgur.com/CRwglhQ.png", total: "í¬ìš©í•˜ê³  ìˆ˜ìš©í•  ë•Œ ê¸¸í•¨", bus: "ì¡°ë ¥ìë¥¼ ë§Œë‚˜ ë‚´ì‹¤ì„ ë‹¤ì§", lov: "ë¶€ë“œëŸ½ê³  í—Œì‹ ì ì¸ ì‚¬ë‘", hea: "ì†Œí™”ê¸° ê³„í†µ ë° í”¼ë¡œ ê´€ë¦¬" },
    { no: 3, name: "3. ìˆ˜ë¢°ë‘”", img: "https://imgur.com/Wy3tXp7.png", total: "ì‹œì‘ì˜ ë‚œê´€, ì¸ë‚´ê°€ í•„ìš”", bus: "ì‹ ê·œ ì°½ì—…ì€ ì‹ ì¤‘íˆ ê²€í† ", lov: "ì˜¤í•´ê°€ ìƒê¸°ê¸° ì‰¬ìš´ ì‹œê¸°", hea: "ê¸°ë ¥ ì €í•˜, ì¶©ë¶„í•œ íœ´ì‹ ìš”ë§" },
    { no: 4, name: "4. ì‚°ìˆ˜ëª½", img: "https://imgur.com/CFYsfx1.png", total: "ë°°ì›€ê³¼ ì§€ë„ê°€ í•„ìš”í•œ ì‹œê¸°", bus: "ì „ë¬¸ê°€ì˜ ìë¬¸ì„ êµ¬í•  ê²ƒ", lov: "ë¯¸ìˆ™í•œ ê´€ê³„, ëŒ€í™”ê°€ í•„ìš”", hea: "ì•ˆê³¼ ì§ˆí™˜ ë° ì‹ ê²½ì„± ë‘í†µ" },
    { no: 5, name: "5. ìˆ˜ì²œìˆ˜", img: "https://imgur.com/D4UBH55.png", total: "ë•Œë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ì—¬ìœ ê°€ í•„ìˆ˜", bus: "ì„±ê¸‰í•œ íˆ¬ìëŠ” ê¸ˆë¬¼, ëŒ€ê¸°", lov: "ì„œë‘ë¥´ë©´ ë§ì¹¨, ì²œì²œíˆ ì ‘ê·¼", hea: "ì‹ ì¥ ë° ë°©ê´‘ ê±´ê°• ìœ ì˜" },
    { no: 6, name: "6. ì²œìˆ˜ì†¡", img: "https://imgur.com/y3CKL2O.png", total: "ê°ˆë“±ê³¼ ë‹¤íˆ¼ì„ ê²½ê³„í•  ê²ƒ", bus: "ê³„ì•½ ë° ì†Œì†¡ ì‹œ íƒ€í˜‘ í•„ìš”", lov: "ë§ë‹¤íˆ¼ ì£¼ì˜, ì–‘ë³´ê°€ ë³´ì•½", hea: "ìŠ¤íŠ¸ë ˆìŠ¤ì„± ì§ˆí™˜, í™”ë³‘ ì£¼ì˜" },
    { no: 7, name: "7. ì§€ìˆ˜ì‚¬", img: "https://imgur.com/a6kkJbS.png", total: "ì¡°ì§ë ¥ê³¼ ê·œìœ¨ì´ ì¤‘ìš”í•œ ì‹œê¸°", bus: "ê²½ìŸì—ì„œ ìŠ¹ë¦¬í•˜ë‚˜ ì±…ì„ ê°€ì¤‘", lov: "ì£¼ë„ê¶Œ ì‹¸ì›€ ê²½ê³„", hea: "ê·¼ìœ¡í†µ ë° íƒ€ë°•ìƒ ì£¼ì˜" },
    { no: 8, name: "8. ìˆ˜ì§€ë¹„", img: "https://imgur.com/H0UswhF.png", total: "í™”í•©ê³¼ í˜‘ë ¥ì´ ì—´ì‡ ì¸ ì‹œê¸°", bus: "í˜‘ì—…ì´ë‚˜ íŒŒíŠ¸ë„ˆì‹­ì— ìµœì ", lov: "ê¹Šì€ ìœ ëŒ€ê°, ê²°í˜¼ìš´ ìƒìŠ¹", hea: "ì „ë°˜ì ì¸ ì»¨ë””ì…˜ ì–‘í˜¸" },
    { no: 9, name: "9. í’ì²œì†Œì¶•", img: "https://imgur.com/k6krlAV.png", total: "ì‘ì€ ì„±ì·¨, í° ì¼ì€ ë³´ë¥˜", bus: "ìê¸ˆ íë¦„ì´ ì ì‹œ ì •ì²´ë¨", lov: "ì‚¬ì†Œí•œ ì •ì— ì´ëŒë¦´ ë•Œ", hea: "í˜¸í¡ê¸° ë° ê¸°ê´€ì§€ ê´€ë¦¬" },
    { no: 10, name: "10. ì²œíƒë¦¬", img: "https://imgur.com/FnOYWNQ.png", total: "ì˜ˆì˜ë¥¼ ê°–ì¶° ìœ„ê¸°ë¥¼ ê·¹ë³µ", bus: "ìœ—ì‚¬ëŒì˜ ëˆˆ ë°–ì— ë‚˜ì§€ ë§ ê²ƒ", lov: "ì¡°ì‹¬ìŠ¤ëŸ¬ìš´ ì§ì‚¬ë‘, ì˜ˆì˜ ì¤‘ì‹œ", hea: "ë‹¤ë¦¬ ë¶€ìƒ ë° ë³´í–‰ ì£¼ì˜" },
    { no: 11, name: "11. ì§€ì²œíƒœ", img: "https://imgur.com/1AHyrXY.png", total: "íƒœí‰ì„±ëŒ€, ë§Œì‚¬ê°€ í˜•í†µí•¨", bus: "ì†Œí†µì´ ì˜ ë˜ê³  ê±°ë˜ê°€ ì„±ì‚¬ë¨", lov: "ê¹Šì€ ì‹ ë¢°ì™€ í™”í•©ì˜ ì‹œê¸°", hea: "ì‹¬ì‹ ì´ ì•ˆì •ë˜ê³  ì¾Œì°¨í•¨" },
    { no: 12, name: "12. ì²œì§€ë¹„", img: "https://imgur.com/TF90qV9.png", total: "ìš´ì„¸ ì •ì²´, ì†Œí†µ ë¶€ì¬", bus: "ê³„ì•½ íŒŒê¸°ë‚˜ êµ¬ì„¤ìˆ˜ ì£¼ì˜", lov: "ì„œë¡œ ë“± ëŒë¦¬ëŠ” í˜•êµ­, ì¸ë‚´", hea: "ê°€ìŠ´ ë‹µë‹µí•¨, ìš¸í™”ë³‘ ì£¼ì˜" },
    { no: 13, name: "13. ì²œí™”ë™ì¸", img: "https://imgur.com/fqPVwBS.png", total: "í˜‘ë™ê³¼ ë™ë£Œì• ê°€ ë¹›ë‚¨", bus: "ê³µë™ íˆ¬ìë‚˜ íŒ€ì›Œí¬ì— ìµœì ", lov: "ëœ»ì´ ë§ëŠ” ì¸ì—°ì„ ë§Œë‚¨", hea: "ì „ì—¼ì„± ì§ˆí™˜ ì£¼ì˜, ì»¨ë””ì…˜ ë³´í†µ" },
    { no: 14, name: "14. í™”ì²œëŒ€ìœ ", img: "https://imgur.com/rvh56NE.png", total: "í’ìš”ë¡œì›€, í° ê²°ì‹¤ì˜ ë•Œ", bus: "ìµœê³ ì˜ ê¸ˆì „ìš´, ì‚¬ì—… í™•ì¥", lov: "ë§¤ë ¥ì´ ë„˜ì¹˜ê³  ì¸ê¸° ìƒìŠ¹", hea: "ì‹œë ¥ ë³´í˜¸, ê³¼ë¡œë¡œ ì¸í•œ í˜„ê¸°ì¦" },
    { no: 15, name: "15. ì§€ì‚°ê²¸", img: "https://imgur.com/erUJddR.png", total: "ê²¸ì†ì´ ë³µì„ ë¶€ë¥´ëŠ” ì‹œê¸°", bus: "ì–‘ë³´í•˜ë©´ ë‚˜ì¤‘ì— ë” í° ì´ë“", lov: "ì¡°ìš©í•œ ì‚¬ë‘, ì˜ˆì˜ ìˆëŠ” ê´€ê³„", hea: "í—ˆë¦¬ ë° ì²™ì¶” ê±´ê°• ìœ ì˜" },
    { no: 16, name: "16. ë‡Œì§€ì˜ˆ", img: "https://imgur.com/U6iuMKV.png", total: "ì¦ê²ê³  í¬ë§ì°¬ ì†Œì‹", bus: "ìƒˆë¡œìš´ ê¸°íšì´ë‚˜ ì¶•ì œ ë¶„ìœ„ê¸°", lov: "ì²«ëˆˆì— ë°˜í•˜ê±°ë‚˜ ì¦ê±°ìš´ ë°ì´íŠ¸", hea: "ê°„ ê¸°ëŠ¥ í™œì„±í™”, ê³¼ìŒ ì£¼ì˜" },
    { no: 17, name: "17. íƒë¢°ìˆ˜", img: "https://imgur.com/KITw1B5.png", total: "ìˆœë¦¬ë¥¼ ë”°ë¥´ë©´ ì´ë¡œì›€", bus: "íë¦„ì„ íƒ€ê³  ë‚¨ì„ ë”°ë¥¼ ë•Œ", lov: "ìƒëŒ€ë¥¼ ì¡´ì¤‘í•˜ë©´ ì‚¬ë‘ë°›ìŒ", hea: "ë°œëª© ë¶€ìƒ ë° ë‹¤ë¦¬ í†µì¦ ì£¼ì˜" },
    { no: 18, name: "18. ì‚°í’ê³ ", img: "https://imgur.com/LC9aPBL.png", total: "ë‚¡ì€ ê²ƒì„ ê³ ì³ì•¼ í•¨", bus: "ë‚´ë¶€ ê°œí˜, ìˆ˜ë¦¬, ì¬ì •ë¹„", lov: "ìˆ¨ê²¨ì§„ ë¬¸ì œ í•´ê²°ì´ ê¸‰ì„ ë¬´", hea: "ë°°íƒˆ, ì‹ì¤‘ë… ë“± ì¥ ì§ˆí™˜ ì£¼ì˜" },
    { no: 19, name: "19. ì§€íƒì„", img: "https://imgur.com/Ulc0hvE.png", total: "ìš´ì„¸ ìƒìŠ¹, ê¸°íšŒê°€ ì˜´", bus: "ì ê·¹ì ì¸ í™ë³´ì™€ ì˜ì—… í™œì„±í™”", lov: "ì ê·¹ì ìœ¼ë¡œ ëŒ€ì‹œí•  ì‹œê¸°", hea: "í”¼ë¶€ ì§ˆí™˜ì´ë‚˜ ì•Œë ˆë¥´ê¸° ì£¼ì˜" },
    { no: 20, name: "20. í’ì§€ê´€", img: "https://imgur.com/Y8bLDPz.png", total: "ê´€ë§í•˜ê³  ì„±ì°°í•˜ëŠ” ì‹œê¸°", bus: "ê³„íš ìˆ˜ì •, ì‹œì¥ ì¡°ì‚¬ê°€ ìš°ì„ ", lov: "ì§ì‚¬ë‘ì´ë‚˜ ë©€ë¦¬ì„œ ì§€ì¼œë´„", hea: "ì–´ì§€ëŸ¼ì¦, ë¹ˆí˜ˆ ê´€ë¦¬ í•„ìš”" },
    { no: 21, name: "21. í™”ë¢°ì„œí•©", img: "https://imgur.com/pASEHQg.png", total: "ë°©í•´ë¬¼ì„ ì œê±°í•  ì‹œê¸°", bus: "ë²•ë¥  ë¬¸ì œ í•´ê²°, ë‹¨í˜¸í•œ ê²°ì •", lov: "ì˜¤í•´ë¥¼ í’€ê¸° ìœ„í•œ ëŒ€í™” í•„ìˆ˜", hea: "ì¹˜ì•„ ë° êµ¬ê°• ì§ˆí™˜ ì£¼ì˜" },
    { no: 22, name: "22. ì‚°í™”ë¹„", img: "https://imgur.com/Lbpr91Z.png", total: "ê²‰ì¹˜ë ˆë³´ë‹¤ ë‚´ì‹¤ì´ ì¤‘ìš”", bus: "ì´ë¯¸ì§€ ë§ˆì¼€íŒ…ì€ ì¢‹ìœ¼ë‚˜ ì‹¤ì† ë¶€ì¡±", lov: "í™”ë ¤í•œ ì™¸ëª¨ë³´ë‹¤ ë§ˆìŒì„ ë³¼ ê²ƒ", hea: "í”¼ë¶€ ë¯¸ìš© ë° ì„±í˜• ë¶€ì‘ìš© ì£¼ì˜" },
    { no: 23, name: "23. ì‚°ì§€ë°•", img: "https://imgur.com/yiUZbjU.png", total: "ë¶ˆë¦¬í•œ ìƒí™©, ëª¸ ì‚¬ë¦´ ë•Œ", bus: "ìê¸ˆ ì•…í™”, í˜„ìƒ ìœ ì§€ì— ì§‘ì¤‘", lov: "ì´ë³„ìˆ˜ë‚˜ ë°°ì‹ ê°ì´ ë“¤ ìˆ˜ ìˆìŒ", hea: "ë©´ì—­ë ¥ ê¸‰ê°, ì ˆëŒ€ ì•ˆì • í•„ìš”" },
    { no: 24, name: "24. ì§€ë¢°ë³µ", img: "https://imgur.com/Iq2n24U.png", total: "íšŒë³µê³¼ ë°˜ì „ì˜ ê¸°íšŒ", bus: "ì‹¤íŒ¨í•œ ì¼ì˜ ì¬ê¸°, ë³µê·€ìš´", lov: "ì˜› ì—°ì¸ê³¼ì˜ ì¬íšŒ ê°€ëŠ¥ì„±", hea: "ì§€ë³‘ì˜ íšŒë³µ, ê¸°ë ¥ ë³´ì¶©" },
    { no: 25, name: "25. ì²œë¢°ë¬´ë§", img: "https://imgur.com/j1Nu72f.png", total: "ìš”í–‰ì„ ë°”ë¼ì§€ ë§ˆë¼", bus: "ì •ì§í•œ ë…¸ë ¥ì´ ë³´ìƒë°›ìŒ", lov: "ê°€ì‹ ì—†ëŠ” íƒœë„ê°€ í˜¸ê°ì„ ì‚¼", hea: "ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì‚¬ê³ ë‚˜ íƒ€ë°•ìƒ ì£¼ì˜" },
    { no: 26, name: "26. ì‚°ì²œëŒ€ì¶•", img: "https://imgur.com/RpAkcSK.png", total: "í° í˜ì„ ë¹„ì¶•í•˜ëŠ” ì‹œê¸°", bus: "í° ê³„ì•½ì´ë‚˜ ìê¸ˆ í™•ë³´ ê°€ëŠ¥", lov: "ì§„ì¤‘í•˜ê³  ë¬´ê±°ìš´ ì‚¬ë‘", hea: "ì²´ë ¥ ë³´ê°•, ë³´ì•½ì´ í•„ìš”í•œ ë•Œ" },
    { no: 27, name: "27. ì‚°ë¢°ì´", img: "https://imgur.com/a6Fwbdw.png", total: "ë§ê³¼ ìŒì‹ì˜ ì ˆì œ", bus: "ì–¸ë¡ , êµìœ¡, ìš”ì‹ì—…ì— ê¸¸í•¨", lov: "ë§ì‹¤ìˆ˜ë¡œ ë‹¤íˆ´ ìˆ˜ ìˆìœ¼ë‹ˆ ì¡°ì‹¬", hea: "ë¹„ë§Œì´ë‚˜ ì‹ì´ì¥ì•  ê´€ë¦¬" },
    { no: 28, name: "28. íƒí’ëŒ€ê³¼", img: "https://imgur.com/3N9iYOs.png", total: "ì±…ì„ê°ì´ ë¬´ê±°ìš´ ìƒíƒœ", bus: "ìê¸ˆ ì••ë°•, ë¬´ë¦¬í•œ í™•ì¥ì€ ê¸ˆë¬¼", lov: "ê°ë‹¹í•˜ê¸° í˜ë“  ì—°ì•  ê°ì •", hea: "ê³¨ì ˆì´ë‚˜ ë¼ˆ ê´€ë ¨ ì§ˆí™˜ ì£¼ì˜" },
    { no: 29, name: "29. ì¤‘ìˆ˜ê°", img: "https://imgur.com/H3WHJCW.png", total: "ì²©ì²©ì‚°ì¤‘ ìœ„ê¸° ìƒí™©", bus: "ì‚¬ê¸° ë° ì†ì¬ìˆ˜ ì£¼ì˜, ììˆ™", lov: "ì‚¼ê°ê´€ê³„ë‚˜ ë³µì¡í•œ ê³ ë¯¼", hea: "ì‹ ì¥, ë°©ê´‘, ì‚°ë¶€ì¸ê³¼ ì§ˆí™˜" },
    { no: 30, name: "30. ì¤‘í™”ë¦¬", img: "https://imgur.com/4uzTP81.png", total: "ì—´ì •ê³¼ ëª…ì˜ˆì˜ ìƒìŠ¹", bus: "ì˜ˆìˆ , ì°½ì‘, ìê²©ì¦ ì·¨ë“ ê¸¸í•¨", lov: "ë¶ˆê°™ì€ ì‚¬ë‘, ê¸ˆë°© ì‹ì„ ìˆ˜ë„", hea: "ì‹¬ì¥ ë° í™”ëˆê±°ë¦¬ëŠ” ì—´ë³‘ ì£¼ì˜" },
    { no: 31, name: "31. íƒì‚°í•¨", img: "https://imgur.com/UmX3IG5.png", total: "ë§ˆìŒì´ í†µí•˜ëŠ” ê°ì‘ì˜ ì‹œê¸°", bus: "íŒŒíŠ¸ë„ˆì‹­, ì œíœ´ ê³„ì•½ì— ì•„ì£¼ ê¸¸í•¨", lov: "ì—°ì• ìš´ ìµœê³ , ê¹Šì€ êµê°ê³¼ ì„¤ë ˜", hea: "í˜ˆì•¡ ìˆœí™˜ ë° ì‹¬ë¦¬ì  ì•ˆì •" },
    { no: 32, name: "32. ë‡Œí’í•­", img: "https://imgur.com/r7Cu9Yc.png", total: "ê¾¸ì¤€í•¨ê³¼ í•œê²°ê°™ì€ íƒœë„", bus: "ì¥ê¸° í”„ë¡œì íŠ¸ë‚˜ ê¸°ì¡´ ì‚¬ì—… ìœ ì§€", lov: "ì•ˆì •ì ì¸ ê²°í•©, ë³€ì¹˜ ì•ŠëŠ” ì‚¬ë‘", hea: "ë§Œì„± í”¼ë¡œ ê´€ë¦¬, ê·œì¹™ì  ìƒí™œ" },
	{ no: 33, name: "33. ì²œì‚°ë‘”", img: "https://imgur.com/lHtNwrH.png", total: "ë¬¼ëŸ¬ë‚˜ì„œ ëª¸ì„ í”¼í•  ë•Œ", bus: "ë¬´ë¦¬í•œ í™•ì¥ë³´ë‹¤ ìì‚° ë³´í˜¸", lov: "ì ì‹œ ê±°ë¦¬ë¥¼ ë‘ëŠ” ê²ƒì´ í˜„ëª…í•¨", hea: "ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬, ëª…ìƒ í•„ìš”" },
    { no: 34, name: "34. ë‡Œì²œëŒ€ì¥", img: "https://imgur.com/HtxWKrV.png", total: "ê¸°ì„¸ê°€ ë‹¹ë‹¹í•˜ê³  í˜ì´ ë„˜ì¹¨", bus: "ê³¼ê°í•œ ì¶”ì§„, ìŠ¹ë¶€ì‚¬ ê¸°ì§ˆ ë°œíœ˜", lov: "ì£¼ë„ì ì¸ ì—°ì• , ì—´ì •ì ì¸ ê´€ê³„", hea: "ê·¼ìœ¡ì§ˆí™˜ ë° ë„˜ì¹˜ëŠ” ì—ë„ˆì§€ ì¡°ì ˆ" },
    { no: 35, name: "35. í™”ì§€ì§„", img: "https://imgur.com/qncGUnv.png", total: "ë°ì€ ë¯¸ë˜ë¡œ ë‚˜ì•„ê°€ëŠ” ì „ì§„", bus: "ìŠ¹ì§„, ë‹¹ì„ , ì‚¬ì—…ì˜ ê¸‰ì†í•œ ì„±ì¥", lov: "ì£¼ìœ„ì— ì†Œë¬¸ë‚  ë§Œí¼ ì¢‹ì€ ì¸ì—°", hea: "í™œë ¥ì´ ë„˜ì¹˜ê³  ì•ˆìƒ‰ì´ ì¢‹ì•„ì§" },
    { no: 36, name: "36. ì§€í™”ëª…ì´", img: "https://imgur.com/4EedukZ.png", total: "ì–´ë‘  ì†ì—ì„œ ë¹›ì„ ê°ì¶œ ë•Œ", bus: "ì‹¤ë ¥ì„ ìˆ¨ê¸°ê³  ë•Œë¥¼ ê¸°ë‹¤ë¦´ ê²ƒ", lov: "ë§ˆìŒ ê³ ìƒ, ì§ì‚¬ë‘ì˜ ì•„í””", hea: "ë¶ˆë©´ì¦, ìš°ìš¸ê°, ì‹œë ¥ ì €í•˜ ì£¼ì˜" },
    { no: 37, name: "37. í’í™”ê°€ì¸", img: "https://imgur.com/R6LWc0V.png", total: "ì§‘ì•ˆì´ í™”ëª©í•´ì•¼ ë§Œì‚¬í˜•í†µ", bus: "ë‚´ë¶€ ê²°ì†, ê°€ì—… ìŠ¹ê³„ì— ìœ ë¦¬", lov: "ê°€ì¡± ê°™ì€ í¸ì•ˆí•¨, ê²°í˜¼ìš´", hea: "ì—¬ì„± ì§ˆí™˜ ë° ê°€ìŠ´ ë‹µë‹µí•¨ ê´€ë¦¬" },
    { no: 38, name: "38. í™”íƒê·œ", img: "https://imgur.com/eIRW9tj.png", total: "ì˜ê²¬ ëŒ€ë¦½ê³¼ ì†Œì™¸ê°", bus: "ë™ì—…ìì™€ì˜ ê°ˆë“± ì£¼ì˜, ë…ì ë…¸ì„ ", lov: "ì„œë¡œ ì–´ê¸‹ë‚¨, ì‚¬ì†Œí•œ ì˜¤í•´ ì£¼ì˜", hea: "ì•ˆê³¼ ì§ˆí™˜ ë° ì‹ ê²½ê³¼ë¯¼" },
    { no: 39, name: "39. ìˆ˜ì‚°ê±´", img: "https://imgur.com/y7S2NWq.png", total: "ëˆˆê¸¸ì— ë°œì´ ë¬¶ì¸ í˜•êµ­", bus: "ì§„í–‰ ì¤‘ì¸ ì¼ì˜ ì¼ì‹œ ì¤‘ë‹¨", lov: "ê³ ë…í•¨, ì§„ì „ ì—†ëŠ” ê´€ê³„", hea: "ë‹¤ë¦¬ í†µì¦ ë° ê´€ì ˆì—¼ ì£¼ì˜" },
    { no: 40, name: "40. ë‡Œìˆ˜í•´", img: "https://imgur.com/8ds45Uy.png", total: "ê½ê½ ì–¼ì—ˆë˜ ë¬¸ì œê°€ í’€ë¦¼", bus: "ìê¸ˆë‚œ í•´ê²°, ê³¤ë€í–ˆë˜ ì¼ì˜ ì¢…ê²°", lov: "ê°ˆë“± í•´ì†Œ, í™”í•´ì˜ íƒ€ì´ë°", hea: "ì§ˆë³‘ì˜ ì¾Œì°¨, ìŒ“ì¸ ë…ì†Œ ë°°ì¶œ" },
    { no: 41, name: "41. ì‚°íƒì†", img: "https://imgur.com/laJLUsA.png", total: "ëœì–´ë‚´ì–´ ë‚´ì‹¤ì„ ë‹¤ì§ˆ ë•Œ", bus: "ë‹¹ì¥ì˜ ì§€ì¶œì€ ìˆìœ¼ë‚˜ ë‚˜ì¤‘ì— ì´ë“", lov: "í—Œì‹ ì ì¸ íƒœë„ê°€ ìƒëŒ€ì˜ ë§ˆìŒì„ ì–»ìŒ", hea: "ë‹¤ì´ì–´íŠ¸ë‚˜ í•´ë… ìš”ë²•ì— ê¸¸í•¨" },
    { no: 42, name: "42. í’ë¢°ìµ", img: "https://imgur.com/OMAvSUF.png", total: "ë„ì›€ì„ ë°›ì•„ í¬ê²Œ ë°œì „í•¨", bus: "íˆ¬ì ìœ ì¹˜ ì„±ê³µ, ì´ìµì˜ ê·¹ëŒ€í™”", lov: "ì„œë¡œì—ê²Œ ë„ì›€ì´ ë˜ëŠ” ë°œì „ì  ê´€ê³„", hea: "ê¸°ìš´ ë³´ê°• ë° ì²´ë ¥ ì¦ì§„" },
    { no: 43, name: "43. íƒì²œì¾Œ", img: "https://imgur.com/zfmi71l.png", total: "ë‹¨í˜¸í•œ ê²°ë‹¨ì´ í•„ìš”í•œ ë•Œ", bus: "ë¶€ì •ì ì¸ ìš”ì†Œ ì²™ê²°, ê³µì •í•œ ì²˜ë¦¬", lov: "ë§ºê³  ëŠìŒì´ í™•ì‹¤í•´ì•¼ í•¨", hea: "ë¹„ë‡¨ê¸° ê³„í†µ ë° í˜ˆì•• ê´€ë¦¬" },
    { no: 44, name: "44. ì²œí’êµ¬", img: "https://imgur.com/BZYzVRf.png", total: "ëœ»ë°–ì˜ ë§Œë‚¨, ìœ í˜¹ ì£¼ì˜", bus: "ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì œì•ˆ, ê¼¼ìˆ˜ ê²½ê³„", lov: "ë§¤í˜¹ì ì´ì§€ë§Œ ìœ„í—˜í•œ ì¸ì—°", hea: "ìœ í–‰ì„± ì§ˆí™˜ ë° ìê¶ ì§ˆí™˜ ì£¼ì˜" },
    { no: 45, name: "45. íƒì§€ì·¨", img: "https://imgur.com/c2ctXl0.png", total: "ì‚¬ëŒê³¼ ì¬ë¬¼ì´ ëª¨ì—¬ë“¬", bus: "ë„¤íŠ¸ì›Œí¬ í˜•ì„±, ëª¨ì„ì—ì„œ ê¸°íšŒ ì°¾ê¸°", lov: "ì¸ê¸° í­ë°œ, ëª¨ì„ì—ì„œ ì—°ì¸ ë§Œë‚¨", hea: "ê³¼ì‹ìœ¼ë¡œ ì¸í•œ ë°°íƒˆ ì£¼ì˜" },
    { no: 46, name: "46. ì§€í’ìŠ¹", img: "https://imgur.com/LhpWqLH.png", total: "ìˆœì¡°ë¡­ê²Œ ìœ„ë¡œ ì˜¬ë¼ê°", bus: "ì°©ì‹¤í•œ ì„±ì·¨, ìŠ¹ì§„ ë° í•©ê²©", lov: "ì°¨ê·¼ì°¨ê·¼ ê¹Šì–´ì§€ëŠ” ì‚¬ë‘", hea: "ë¶€ì¸ê³¼ ì§ˆí™˜ ë° í•˜ë³µë¶€ ê´€ë¦¬" },
    { no: 47, name: "47. íƒìˆ˜ê³¤", img: "https://imgur.com/oc9L2h1.png", total: "ì—°ëª»ì— ë¬¼ì´ ë§ˆë¥¸ ê³¤ê¶í•¨", bus: "ìê¸ˆ ê²½ìƒ‰, ë§ì‹¤ìˆ˜ ì¡°ì‹¬", lov: "ê³ ë¦½ëœ ëŠë‚Œ, ì†Œí†µì˜ ë¶€ì¬", hea: "ê·¹ì‹¬í•œ í”¼ë¡œ ë° ì˜ì–‘ ë¶€ì¡±" },
    { no: 48, name: "48. ìˆ˜í’ì •", img: "https://imgur.com/pUYDV3S.png", total: "ë³€ì¹˜ ì•ŠëŠ” ì„±ì‹¤í•¨ê³¼ ë‚˜ëˆ”ì˜ ë¯¸í•™", bus: "ê³µìµ ì‚¬ì—…, ê¾¸ì¤€í•œ ìˆ˜ìµ ì°½ì¶œ", lov: "í•œê²°ê°™ì€ ì‚¬ëŒ, ì‹ ë¢° ì¤‘ì‹¬ì˜ ì—°ì• ", hea: "ìˆ˜ë¶„ ì„­ì·¨ ë° ì‹ ì¥ ê¸°ëŠ¥ ê°•í™”" },
    { no: 49, name: "49. íƒí™”í˜", img: "https://imgur.com/zzTmzG7.png", total: "ë‚¡ì€ ê²ƒì„ ë°”ê¾¸ëŠ” í˜ëª…", bus: "ì—…ì¢… ì „í™˜, ìƒˆë¡œìš´ ì‹œìŠ¤í…œ ë„ì…", lov: "ê¶Œíƒœê¸° ê·¹ë³µ, ê´€ê³„ì˜ ëŒ€ë³€í™”", hea: "ì²´ì§ˆ ê°œì„  ë° ì„±í˜•, ìˆ˜ìˆ ìš´" },
    { no: 50, name: "50. í™”í’ì •", img: "https://imgur.com/q3QBy1D.png", total: "ìƒˆë¡œìš´ ì²´ì œë¡œ ì•ˆì •ì„ ì°¾ìŒ", bus: "í•µì‹¬ ì¸ì¬ ì˜ì…, ì¡°ì§ì˜ ì•ˆì •", lov: "ì•ˆì •ì ì¸ ê°€ì •ë„ëª¨, ì„±ìˆ™í•œ ì‚¬ë‘", hea: "ì†Œí™”ê¸° ê°•í™”, ê±´ê°•í•œ ì‹ë‹¨ ê´€ë¦¬" },
    { no: 51, name: "51. ì¤‘ë¢°ì§„", img: "https://imgur.com/kw4RAr4.png", total: "ì²œë‘¥ì†Œë¦¬ì— ë†€ë¼ë‚˜ ì‹¤ì† ìˆìŒ", bus: "ê°‘ì‘ìŠ¤ëŸ¬ìš´ ë³€í™”ì— ì¹¨ì°©í•˜ë©´ ê¸°íšŒ", lov: "ê¹œì§ ê³ ë°±ì´ë‚˜ ê°‘ì‘ìŠ¤ëŸ¬ìš´ ë§Œë‚¨", hea: "ì‹ ê²½ê³¼ë¯¼, ì‹¬ì¥ ë‘ê·¼ê±°ë¦¼ ì£¼ì˜" },
    { no: 52, name: "52. ì¤‘ì‚°ê°„", img: "https://imgur.com/OnGRm3x.png", total: "íƒœì‚°ì²˜ëŸ¼ ë¬µì§í•˜ê²Œ ë¨¸ë¬´ë¥¼ ë•Œ", bus: "ì¤‘ë‹¨ì´ë‚˜ ë³´ë¥˜ê°€ ìœ ë¦¬, ê´€ë§ì„¸", lov: "ì§„ì „ ì—†ëŠ” ê´€ê³„, ì¸ë‚´ê°€ í•„ìš”", hea: "í—ˆë¦¬ í†µì¦ ë° ì²™ì¶” ì§ˆí™˜ ì£¼ì˜" },
    { no: 53, name: "53. í’ì‚°ì ", img: "https://imgur.com/tpeb6jn.png", total: "ê¸°ëŸ¬ê¸°ê°€ ë‚ ë“¯ ì ì§„ì  ë°œì „", bus: "ì°©ì‹¤í•œ ë‹¨ê³„ë³„ ìŠ¹ì§„ ë° í™•ì¥", lov: "ì„œë‘ë¥´ì§€ ì•ŠëŠ” ì„±ìˆ™í•œ ì—°ì• ", hea: "ë§Œì„± ì§ˆí™˜ì˜ ì„œì„œíˆ íšŒë³µ" },
    { no: 54, name: "54. ë‡Œíƒê·€ë§¤", img: "https://imgur.com/zXw4eP0.png", total: "ìˆœì„œê°€ ë’¤ë°”ë€ ìœ„íƒœë¡œìš´ ë§Œë‚¨", bus: "í¸ë²•ì€ ì‹¤íŒ¨ì˜ ì›ì¸, ì›ì¹™ ê³ ìˆ˜", lov: "ì§ì‚¬ë‘ì´ë‚˜ ë¶€ì ì ˆí•œ ê´€ê³„ ì£¼ì˜", hea: "ë¶€ì¸ê³¼ ë° ìƒì‹ê¸° ì§ˆí™˜ ìœ ì˜" },
    { no: 55, name: "55. ë‡Œí™”í’", img: "https://imgur.com/17vYqew.png", total: "ë³´ë¦„ë‹¬ì²˜ëŸ¼ í’ì„±í•œ ì „ì„±ê¸°", bus: "ì‚¬ì—…ì˜ ì •ì , í™”ë ¤í•œ ì„±ê³¼", lov: "ì—´ì •ì ì´ê³  í’ìš”ë¡œìš´ ì‚¬ë‘", hea: "ì•ˆê³¼ ì§ˆí™˜ ë° ë‡Œí˜ˆê´€ ê´€ë¦¬" },
    { no: 56, name: "56. í™”ì‚°ë ¤", img: "https://imgur.com/CRAkx4Q.png", total: "ë‚˜ê·¸ë„¤ì˜ ì™¸ë¡­ê³  ë¶ˆì•ˆí•œ ê¸¸", bus: "í•´ì™¸ ì—…ë¬´ë‚˜ ì´ë™ìˆ˜, ë¶ˆì•ˆì •", lov: "ìŠ¤ì³ ì§€ë‚˜ê°€ëŠ” ì¸ì—°, ê³ ë…ê°", hea: "ìœ í–‰ì„± ì§ˆë³‘ ë° ì—¬í–‰ì§€ ë¶€ìƒ" },
    { no: 57, name: "57. ì¤‘í’ì†", img: "https://imgur.com/zxDhOb1.png", total: "ë¶€ë“œëŸ¬ìš´ ë°”ëŒì²˜ëŸ¼ ìŠ¤ë©°ë“¦", bus: "ìœ ì—°í•œ í˜‘ìƒê³¼ ì†Œë¬¸ ë§ˆì¼€íŒ…", lov: "ìƒëŒ€ë¥¼ ë°°ë ¤í•˜ëŠ” ë¶€ë“œëŸ¬ìš´ êµì œ", hea: "ì‹ ê²½í†µ ë° í˜¸í¡ê¸° ê³„í†µ ê´€ë¦¬" },
    { no: 58, name: "58. ì¤‘íƒíƒœ", img: "https://imgur.com/qycIqsN.png", total: "ì—°ëª»ì´ ë§Œë‚˜ ê¸°ì¨ì´ ë„˜ì¹¨", bus: "í˜‘ìƒ íƒ€ê²°, ì„œë¹„ìŠ¤ì—…ì— ì•„ì£¼ ê¸¸í•¨", lov: "ì¦ê±°ìš´ ë°ì´íŠ¸, ëŒ€í™”ê°€ ì˜ í†µí•¨", hea: "êµ¬ê°• ì§ˆí™˜ ë° ê¸°ê´€ì§€ ê±´ê°• ìœ ì˜" },
    { no: 59, name: "59. í’ìˆ˜í™˜", img: "https://imgur.com/WCNOmiS.png", total: "ë§‰í˜”ë˜ ê²ƒì´ í’€ë¦¬ëŠ” í•´ì†Œ", bus: "í•´ì™¸ ì§„ì¶œ ê¸¸í•¨, ë¬¸ì œ í•´ê²°", lov: "ë§‰í˜”ë˜ ê°ì • í•´ì†Œì™€ ìƒˆë¡œìš´ ì‹œì‘", hea: "í˜ˆì•¡ ìˆœí™˜ ë° ë…ì†Œ ë°°ì¶œ í•„ìš”" },
    { no: 60, name: "60. ìˆ˜íƒì ˆ", img: "https://imgur.com/Shr3LMx.png", total: "ëŒ€ë‚˜ë¬´ ë§ˆë””ì²˜ëŸ¼ ì ˆì œí•  ë•Œ", bus: "ì˜ˆì‚° ì ˆê°, ê³¼ìš• ê¸ˆì§€, ê·œì¹™ ì¤€ìˆ˜", lov: "ì„ ì„ ì§€í‚¤ëŠ” ë§Œë‚¨, ê³¼í•œ êµ¬ì† ì£¼ì˜", hea: "ë¶€ì¢… ë° ì‹ ì§„ëŒ€ì‚¬ ì •ì²´ ê´€ë¦¬" },
    { no: 61, name: "61. í’íƒì¤‘ë¶€", img: "https://imgur.com/bfeYi2j.png", total: "ì§„ì‹¬ì´ í•˜ëŠ˜ì— ë‹¿ëŠ” ë¯¿ìŒ", bus: "ì‹ ë¢°ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ê³„ì•½ ì„±ì‚¬", lov: "ê¹Šì€ ì‹ ë¢°ì™€ ì˜í˜¼ì˜ ë™ë°˜ì", hea: "ì‹¬ë¦¬ì  ì•ˆì •, ëª…ìƒì´ íš¨ê³¼ì " },
    { no: 62, name: "62. ë‡Œì‚°ì†Œê³¼", img: "https://imgur.com/MtpWJe4.png", total: "ì‘ì€ ì¼ì— ì¶©ì‹¤í•´ì•¼ ì•ˆì „í•¨", bus: "ë””í…Œì¼ ë¶€ë¶„ ì ê²€, í° íˆ¬ì ê¸ˆì§€", lov: "ì‚¬ì†Œí•œ ë°°ë ¤ê°€ í° ê°ë™ì„ ì¤Œ", hea: "ì‚¬ì†Œí•œ ì¦ìƒë„ ì •ë°€ ê²€ì‚¬ ê¶Œì¥" },
    { no: 63, name: "63. ìˆ˜í™”ê¸°ì œ", img: "https://imgur.com/W53k6uy.png", total: "ë§ˆì¹¨ë‚´ ì™„ì„±, ìœ ì§€ì— í˜ì“¸ ë•Œ", bus: "ì´ë¯¸ ì„±ì·¨í•¨, ì•ˆì • ì§€í–¥ì  ìš´ì˜", lov: "ì•ˆì •ì ì¸ ê²°í•©, ì´ˆì‹¬ ìœ ì§€ê°€ ê´€ê±´", hea: "ì§€ë³‘ì˜ ì™„ì¹˜ ë‹¨ê³„, ì¬ë°œ ì£¼ì˜" },
    { no: 64, name: "64. í™”ìˆ˜ë¯¸ì œ", img: "https://imgur.com/PNEBdVb.png", total: "ìƒˆë¡œìš´ ì‹œì‘ì„ ì•ë‘” ë¯¸ì™„ì„±", bus: "ì¬ë„ì „ ì¤€ë¹„, ë§ˆì§€ë§‰ ê³ ë¹„ ì£¼ì˜", lov: "ë‹¤ì‹œ íƒ€ì˜¤ë¥´ëŠ” ê°ì •, ìƒˆë¡œìš´ í¬ë§", hea: "í™œë ¥ íšŒë³µ ì¤‘, ëê¹Œì§€ ê´€ë¦¬ ìš”ë§" }
    ];

    const luckyColors = ["ê³¨ë“œ", "í™”ì´íŠ¸", "ìŠ¤ì¹´ì´ë¸”ë£¨", "ì—ë©”ë„ë“œ", "ë¼ë²¤ë”", "ë²„ê±´ë””", "ì°¨ì½œ", "ì˜¬ë¦¬ë¸Œ"];
    let isFlipped = false;
    let audioCtx;

    function initAudio() {
        if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        if (audioCtx.state === 'suspended') audioCtx.resume();
    }

    function playMagicSound() {
        initAudio();
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.frequency.setValueAtTime(440, audioCtx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(880, audioCtx.currentTime + 0.3);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
        osc.connect(gain); gain.connect(audioCtx.destination);
        osc.start(); osc.stop(audioCtx.currentTime + 0.3);
    }

    const canvas = document.getElementById('particleCanvas');
    const ctx = canvas.getContext('2d');
    let particles = [];

    function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.addEventListener('resize', resize); resize();

    class Particle {
        constructor(x, y) {
            this.x = x; this.y = y;
            this.size = Math.random() * 4 + 1;
            this.speedX = (Math.random() - 0.5) * 10;
            this.speedY = (Math.random() - 0.5) * 10;
            this.color = `rgba(212, 175, 55, ${Math.random()})`;
            this.life = 1;
        }
        update() { this.x += this.speedX; this.y += this.speedY; this.life -= 0.02; }
        draw() { ctx.fillStyle = this.color; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill(); }
    }

    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles = particles.filter(p => p.life > 0);
        particles.forEach(p => { p.update(); p.draw(); });
        requestAnimationFrame(animate);
    }
    animate();

    function handleMainAction() {
        if (!isFlipped) handleFlip();
        else drawCard();
    }

    function handleFlip() {
        if (!isFlipped) {
            playMagicSound();
            const rect = document.querySelector('.card-box').getBoundingClientRect();
            for (let i = 0; i < 40; i++) particles.push(new Particle(rect.left + rect.width / 2, rect.top + rect.height / 2));
            
            document.getElementById('cardInner').classList.add('flipped');
            isFlipped = true;
            document.getElementById('mainBtn').innerText = "ì¹´ë“œ ë‹¤ì‹œ ì…”í”Œ";
            setTimeout(() => { document.getElementById('result-area').style.display = 'block'; }, 500);
        }
    }

    function drawCard() {
        initAudio();
        isFlipped = false;
        document.getElementById('cardInner').classList.remove('flipped');
        document.getElementById('result-area').style.display = 'none';
        document.getElementById('mainBtn').innerText = "ì˜¤ëŠ˜ì˜ ìš´ì„¸ ë½‘ê¸°";
        
        const card = tarotData[Math.floor(Math.random() * tarotData.length)];
        document.getElementById('cardImage').src = card.img;
        document.getElementById('resTitle').innerText = card.name;
        document.getElementById('resTotal').innerText = "ğŸŒŸ " + card.total;
        document.getElementById('resBus').innerText = card.bus;
        document.getElementById('resLov').innerText = card.lov;
        document.getElementById('resHea').innerText = card.hea;

        // [í–‰ìš´ ëœë¤ ìƒì„±]
        document.getElementById('luckyColor').innerText = luckyColors[Math.floor(Math.random() * luckyColors.length)];
        document.getElementById('luckyNum').innerText = Math.floor(Math.random() * 10);
    }

    window.onload = drawCard;
</script>
</body>
</html>
